package org.ndot.ips.junit;

import org.ndot.ips.Client;
import org.ndot.ips.ISOUtil;


/**
 * 
 * 公 司： 北京东方合创北美有限公司
 * 
 * 项 目：IPSTester
 * 
 * 文件名称：ATMTest.java
 * 
 * 功 能：
 * 
 * 
 * 作 者：孙金城
 * 
 * 时 间：May 19, 2009
 * 
 */
public class ATMTester {

//	private static String ipAddr = "10.0.6.96";
//	private static String ipAddr = "10.0.21.66";
//	private static String ipAddr = "10.0.10.41";
	private static String ipAddr = "127.0.0.1";
	private static int port = 20098;

	public static void main(String[] args) {

		try {

			String lenAll = "0185";
			String sendAll = "3030303030303130303037383737363030303030323030E23815803080B80001000000000000413139363231303231303035323130303030303130343130303130303130303030373837373631303135333932303039303631323230303131303030303030303030303030323130393030393030303030303030303030303030303030393939393930303236303032303030303030303030303030303030303030303030303131323139313931393139314F303030303030393939393930323334363231303231303035323130303030303130343D343931323132303737323030303031303339363231303231303035323130303030303130343D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D303030303030303030303030303030313030303030323131353632323130333890C0AA3FCD450D533031323030303030303030303030303030303030303030E6C3CA77DEB66888";
            //0200
			lenAll="0186";
			     sendAll="3030303030303130303031363631323030303030323030E23815803080B800010000000000000131393632323937363030303031303030313131363131303031303031303030303136363132313232393133323030383036323432303031313030303030303030303030303231303939303030303030393939393939393938383930323939393939303039393930303030303030303030303030303030303030303030303031313131303030303030303043303431313131393939393930303337363232393736303030303130303031313136313D34393132313230363737393530303030303130343939363232393736303030303130303031313136313D313536313536303030303030303030303030303030333030303030303230303030303034393132303D30303030303030303030303D30303030303030303030303D30303030303030373331373539303030303131313131313234313536413030303032D3CAF81AB279E650313132303630303030303030303030303030313123229CC2C6D26343";
			Client client = new Client(ipAddr, port);
			byte[] lens = ISOUtil.hexStr2byte(lenAll);
			byte[] datas = ISOUtil.hex2byte(sendAll);
			byte[] all = new byte[lens.length + datas.length];
			System.arraycopy(lens, 0, all, 0, lens.length);
			System.arraycopy(datas, 0, all, lens.length, datas.length);
			client.sendOutData(datas);
			client.closeConn();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

}
