package org.ndot.ips.junit;

import org.ndot.ips.Client;
import org.ndot.ips.ISOUtil;

/**
 * 【小蚂蚁学堂 之 J2EE】
 * 
 * 项目名称：ips_test
 * 
 * 文件名： ATMAllTest.java
 * 
 * 功 能:
 * 
 * 作 者: NDot
 * 
 * 创建时间: 2009 2009-7-4
 * 
 */
public class ATMAllTest {
	private static String ipAddr = "10.0.6.96";
// private static String ipAddr = "10.0.21.68";
// private static String ipAddr = "127.0.0.1";

	private static int port = 20098;
	public static void main(String[] args) {

		try {
			String dataLen = "0187";
			String start = "3030303030303130303034333331323030303030323030E238158030803804010000000000000131393632313032313030333137303030303831383831353031303031";
			String end = "3231363336323132303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303032373031383830303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303033313730303030383138383D343931323132303835313030303031303339363231303231303033313730303030383138383D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D303030303030303030303030303030313030303030323131323130373014A78C4AD9338F153030303130303030303030303030303014A78C4AD9338F1530303030D36F655A123C38EE";
			int len = 8;
			// DQ计算流水
			String no = "3030303034333331";
			if (args.length == 1) {
				no = ISOUtil.byte2HexNoSpaceStr(args[0].getBytes(),args[0].getBytes().length );
			}
			String sendAll = start + no + end;
			// 行内改密
			dataLen="0187";
			sendAll="3030303030303130303034333331323030303030323030E23815803080380401000000000000013139363231303231303033313730303030383138383135303130303130303030343333313231363336323132303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303032373031383830303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303033313730303030383138383D343931323132303835313030303031303339363231303231303033313730303030383138383D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D303030303030303030303030303030313030303030323131323130373014A78C4AD9338F153030303130303030303030303030303014A78C4AD9338F1530303030D36F655A123C38EE";
				
// //行内ATM余额查询
			dataLen="0185";
			sendAll="3030303030303130303034333331363030303030323030E23815803080B80001000000000000413139363231303231303033313730303030383137303130303130303130303030343333313631363337333032303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303032373031383830303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303033313730303030383137303D343931323132303032393030303031303339363231303231303033313730303030383137303D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D30303030303030303030303030303031303030303032313135363132313037304C4BE7FA0A7E76C630313230303030303030303030303030303030303030308E79B98B863987F9";
//						
// //行内ATM转账
			dataLen = "01B7";
			sendAll="3030303030303130303034333331373030303030323030F23815803080B80001000000060000013139363231303231303033313730303030383137303131303530303030303030303032303030303130303030343333313731363338303532303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303032373031383830303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303033313730303030383137303D343931323132303032393030303031303339363231303231303033313730303030383137303D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D30303030303030303030303030303031303030303032313135363132313037304C4BE7FA0A7E76C630313230303030303030303030303030303030303139363231303231303033313730303030383137303138313231303230313231303030303230393933D1290D4A06834D1A";
// //行内ATM补登折
			dataLen = "00E8";
			sendAll="3030303030303130303034333332343030303030323030E238158000802800010000000000000131383132313032303132313030303032303939333135303230303130303030343333323431363434343232303039303231393130303130303030303030303030303030313130393030303030303030303030303030303030303030393939393930303032373031383830303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323130303030303231313231303730303030313030303030303030303030303030303097744F5C85D1A451";
//
// //行内ATM取款
			dataLen = "018E";
			sendAll="3030303030303130303034333239383030303030323030F23815803080B80001000000000000013139363231303231303033313730303030383138383131303130303030303030303130303030303130303030343332393831363333303332303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303034323031383930303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303033313730303030383138383D343931323132303835313030303031303339363231303231303033313730303030383138383D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D303030303030303030303030303030313030303030323131353631323130373014A78C4AD9338F153031323030303030303030303030303030303030E3F4724A1C361ADD";
			// 应缴费用查询
			dataLen = "019D";
			sendAll="3030303030303130303034333237333030303030323030E23815803080380001000000020000413139363231303231303035323130303030303039363134303130303130303030343332373331353537343532303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303034323031383930303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303035323130303030303039363D343931323132303630343030303031303339363231303231303035323130303030303039363D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D3030303030303030303030303030303130303030303231313231303730B233A801155D7C0030313230303030303030303030303030303030303131313233343536373839303130313430303032393939393939303030305BE905D1E75BFFEA";
			// 代理缴费
			dataLen = "01C4";
			sendAll="3030303030303130303034333237343030303030323030E23815803080B80001000000020000413139363231303231303035323130303030303039363134303230303130303030343332373431353537353032303039303231393230303131303030303030303030303030323130393030303030303030303030303030303030303030393939393930303034323031383930303030303030303030303030303030303030303131323139313931393139314F313130303030393939393930323334363231303231303035323130303030303039363D343931323132303630343030303031303339363231303231303035323130303030303039363D313536313536303530303030303030303030303030303030303030303030303030303034393132303D3030303030303030303030303D3030303030303030303030303D3030303030303030303030303030303130303030303231313536313231303730B233A801155D7C00303132303030303030303030303030303030303031313132333435363738393031303530303030323939393939393030303030303030303031303030303030303030303030303030313031353231303030306E756C6C342DE7BFBDA36F39";

			dataLen ="0192";
			sendAll="3030303030303130303039343933383030303030323030F23815803080B800010000000000000131393632323937363030393031303030313236303831313031303030303030303030313030303031303030303934393338313630333032323030393035313332303030313033303030303730303030303231303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303030303337363232393736303039303130303031323630383D34393132313230333839353633303030303130343939363232393736303039303130303031323630383D313536313536303030303030303030303030303030333030303030303230303030303034393132303D30303030303030303030303D30303030303030303030303D303030303030303337373634383030303031313131313131353135364139393939398445C5692E64CC563131323036303030303030303030303030303030666CCC5E1521B6BB";
			Client client = new Client(ipAddr, port);
			byte[] lens = ISOUtil.hexStr2byte(dataLen);
			byte[] datas = ISOUtil.hex2byte(sendAll);
			byte[] all = new byte[lens.length + datas.length];
			System.arraycopy(lens, 0, all, 0, lens.length);
			System.arraycopy(datas, 0, all, lens.length, datas.length);
			client.sendOutData(all);
			client.closeConn();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
	}

